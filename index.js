import{r as b,a as $,c as d}from"./assets/main-CxZDzMzc.js";import"./assets/vendor-CR7N1gwd.js";const T=document.querySelectorAll(".filter-button"),h=document.querySelector("#search-form"),u=document.querySelector("#filter-search"),g=document.querySelector(".button-clear"),E=document.querySelector(".filter-pagination"),A=document.querySelector(".filter-title"),J=document.querySelector(".exercises-container");let p={path:"filters",params:{filter:"Muscles"}},m=1,r=9,k=d,v="";function N(t){const e=document.querySelector(".category-items");e.innerHTML="",e.style.display="grid",h.style.display="none",t.results.forEach(n=>{let a=document.createElement("li"),o=document.createElement("div");a.classList.add("category-item"),a.style.backgroundImage=`url(${n.imgURL})`;let s=document.createElement("p");s.innerHTML=n.name.charAt(0).toUpperCase()+n.name.slice(1),s.classList.add("filter-category"),o.appendChild(s);let i=document.createElement("p");i.innerHTML=n.filter.charAt(0).toUpperCase()+n.filter.slice(1),i.classList.add("filter-text"),o.appendChild(i),a.addEventListener("click",()=>{e.innerHTML="",e.style.display="none",v=n.name,P(),R()}),a.appendChild(o),e.appendChild(a)})}function U(t){v||N(t)}async function H(t=!0){const e={...p.params,page:m,limit:r},n=await b(p.path,e);return t&&U(n),n}function P(){const t=I();A.innerHTML=`Exercises${t?` / <span>${t}</span>`:""}`}function I(){return v}function O(){document.querySelectorAll(".filters-pagination-button").forEach(e=>{e.classList.remove("filters-pagination-button-active"),parseInt(e.innerHTML)===m&&e.classList.add("filters-pagination-button-active")})}const w=async(t,e=!1)=>{!e&&t.classList.contains("filters-pagination-button-active")||(m=parseInt(t.innerHTML),O(),await H())};async function S(t=!1){E.innerHTML="";const n=(await H(t)).totalPages;for(let o=1;o<=n;o++){const s=document.createElement("li"),i=document.createElement("button");i.innerHTML=o,i.classList.add("filters-pagination-button"),s.appendChild(i),E.appendChild(s)}document.querySelectorAll(".filters-pagination-button").forEach(o=>{o.addEventListener("click",()=>{w(o)})}),O(),w(document.querySelector(".filters-pagination-button-active"),!0)}function x(){if(A.innerHTML==="Exercises")switch(d){case 0:r=9;break;case 1:r=12;break;case 2:r=12;break}else switch(d){case 0:r=8;break;case 1:r=10;break;case 2:r=10;break}}const B=async t=>{J.innerHTML="",v="",m=1;const e=t.innerHTML.trim();x(),T.forEach(n=>{n.classList.remove("filter-button-active")}),t.classList.add("filter-button-active"),p={path:"filters",params:{filter:e}},P(),await S(!0)};T.forEach(t=>{t.addEventListener("click",()=>{B(t)})});document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".filter-button-active");B(t)});addEventListener("resize",async()=>{d!==k&&(k=d,x(),await S())});function q(){u.value.trim()!==""?g.style.visibility="visible":g.style.visibility="hidden"}h.addEventListener("submit",async t=>{t.preventDefault(),await R()});g.addEventListener("click",()=>{u.value="",q(),p.params.search="",S()});const R=async()=>{const t=u.value.trim(),e=document.querySelector(".filter-button-active").value,n=I(),a={[e]:n};t!==""&&(a.keyword=t),m=1;const o=await b("exercises",a);h.style.display="block",$(o,!1),u.value="",q()};u.addEventListener("input",()=>{q()});function W(){return JSON.parse(localStorage.getItem("favorites"))??[]}function G(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function X(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.splice(e.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(e))}const M=document.querySelectorAll("[data-modal-open]"),Y=document.querySelector("[data-modal-close]"),j=document.querySelector(".modal"),f=document.querySelector("[data-modal]");let y="";for(let t=0;t<M.length;t++)M[t].addEventListener("click",e=>{y=e.target.value,z(y)});const l=document.querySelector(".btn-modal-add-fav");l.addEventListener("click",t=>{l.classList.toggle("fav-added"),l.classList.contains("fav-added")?(G(y),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(X(y),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart"))});async function z(t){const e=await b(`exercises/${t}`);K(e),W().indexOf(t)>=0?(l.classList.add("fav-added"),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(l.classList.remove("fav-added"),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart")),f.classList.toggle("hidden"),Q()}function K(t){document.querySelector(".img-modal-exercise").src=t.gifUrl,document.querySelector(".title-modal").textContent=t.name.trim(),document.querySelector(".desc-text").textContent=t.description.trim(),document.querySelector(".rating-value").textContent=t.rating;const e=document.querySelectorAll(".icon-modal-star"),n=Math.floor(t.rating);for(let i=0;i<n;i++)e[i].classList.add("gold");const a=Math.floor((t.rating-n)*100),o=document.querySelectorAll(".gradient-middle");for(let i=0;i<o.length;i++)o[i].setAttribute("offset",`${a}%`);e[n].classList.add("gold-half");const s=document.querySelector(".stats-list");s.innerHTML="",L="",t.target!==""&&c("Target",t.target),t.bodyPart!==""&&c("BodyPart",t.bodyPart),t.equipment!==""&&c("Equipment",t.equipment),t.popularity!==""&&c("Popular",t.popularity),t.burnedCalories!==""&&c("Burned Calories",t.burnedCalories+"/"+t.time+" min"),s.insertAdjacentHTML("beforeend",L)}let L="";function c(t,e){L+=`<li class="stats-item">
              <p class="stats-title">${t}</p>
              <p class="stats-value">${e}</p>
            </li>`}Y.addEventListener("click",()=>{f.classList.add("hidden"),C()});f.addEventListener("click",t=>{const e=j.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(f.classList.add("hidden"),C())});function F(t){t.key==="Escape"&&(f.classList.add("hidden"),C())}function Q(){document.addEventListener("keydown",F),document.querySelector("body").classList.add("modal-open"),document.querySelector(".scroll-up-button").style.visibility="hidden"}function C(){document.removeEventListener("keydown",F),document.querySelector("body").classList.remove("modal-open"),document.querySelector(".scroll-up-button").style.visibility="visible"}
//# sourceMappingURL=index.js.map
