import{r as b,a as I,c as v}from"./assets/main-DdjliE5t.js";import"./assets/vendor-CR7N1gwd.js";const A=document.querySelectorAll(".filter-button"),F=document.querySelector("#search-form"),l=document.querySelector("#filter-search"),g=document.querySelector(".button-clear"),q=document.querySelector(".filter-pagination");let d={path:"filters",params:{filter:"Muscles"}},f=1,m=9,C=v;function H(t){console.log(t)}async function k(t=!0){const e={...d.params,page:f,limit:m},n=await b(d.path,e);return t&&H(n),n}function R(){const t=document.querySelector(".filter-title");if(d.path==="filters"){const e=M();t.innerHTML=`Exercises ${`/ <span>${e}</span>`}`}}function M(){return"abs"}function P(){document.querySelectorAll(".filters-pagination-button").forEach(e=>{e.classList.remove("filters-pagination-button-active"),parseInt(e.innerHTML)===f&&e.classList.add("filters-pagination-button-active")})}const E=async(t,e=!1)=>{!e&&t.classList.contains("filters-pagination-button-active")||(f=parseInt(t.innerHTML),P(),await k())};async function S(){q.innerHTML="";const e=(await k(!1)).totalPages;for(let o=1;o<=e;o++){const i=document.createElement("li"),s=document.createElement("button");s.innerHTML=o,s.classList.add("filters-pagination-button"),i.appendChild(s),q.appendChild(i)}document.querySelectorAll(".filters-pagination-button").forEach(o=>{o.addEventListener("click",()=>{E(o)})}),P(),E(document.querySelector(".filters-pagination-button-active"),!0)}function O(){switch(v){case 0:m=9;break;case 1:m=12;break;case 2:m=12;break}}const T=async t=>{f=1;const e=t.innerHTML.trim();O(),A.forEach(n=>{n.classList.remove("filter-button-active")}),t.classList.add("filter-button-active"),d={path:"filters",params:{filter:e}},R(),await S()};A.forEach(t=>{t.addEventListener("click",()=>{T(t)})});document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".filter-button-active");T(t)});addEventListener("resize",async()=>{v!==C&&(C=v,O(),await S())});function h(){l.value.trim()!==""?g.style.visibility="visible":g.style.visibility="hidden"}F.addEventListener("submit",async t=>{t.preventDefault(),await $()});g.addEventListener("click",()=>{l.value="",h(),d.params.search="",S()});const $=async()=>{const t=l.value.trim();if(t!==""){const e=document.querySelector(".filter-button-active").value,n=M(),o={keyword:t,[e]:n};f=1;const i=await b("exercises",o);I(i,!1),l.value="",h()}};l.addEventListener("input",()=>{h()});function x(){return JSON.parse(localStorage.getItem("favorites"))??[]}function J(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function N(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.splice(e.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(e))}const w=document.querySelectorAll("[data-modal-open]"),W=document.querySelector("[data-modal-close]"),G=document.querySelector(".modal"),u=document.querySelector("[data-modal]");let y="";for(let t=0;t<w.length;t++)w[t].addEventListener("click",e=>{y=e.target.value,X(y)});const c=document.querySelector(".btn-modal-add-fav");c.addEventListener("click",t=>{c.classList.toggle("fav-added"),c.classList.contains("fav-added")?(J(y),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(N(y),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart"))});async function X(t){const e=await b(`exercises/${t}`);Y(e),x().indexOf(t)>=0?(c.classList.add("fav-added"),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(c.classList.remove("fav-added"),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart")),u.classList.toggle("hidden"),j()}function Y(t){document.querySelector(".img-modal-exercise").src=t.gifUrl,document.querySelector(".title-modal").textContent=t.name.trim(),document.querySelector(".desc-text").textContent=t.description.trim(),document.querySelector(".rating-value").textContent=t.rating;const e=document.querySelectorAll(".icon-modal-star"),n=Math.floor(t.rating);for(let a=0;a<n;a++)e[a].classList.add("gold");const o=Math.floor((t.rating-n)*100),i=document.querySelectorAll(".gradient-middle");for(let a=0;a<i.length;a++)i[a].setAttribute("offset",`${o}%`);e[n].classList.add("gold-half");const s=document.querySelector(".stats-list");s.innerHTML="",p="",t.target!==""&&r("Target",t.target),t.bodyPart!==""&&r("BodyPart",t.bodyPart),t.equipment!==""&&r("Equipment",t.equipment),t.popularity!==""&&r("Popular",t.popularity),t.burnedCalories!==""&&r("Burned Calories",t.burnedCalories+"/"+t.time+" min"),s.insertAdjacentHTML("beforeend",p)}let p="";function r(t,e){p+=`<li class="stats-item">
              <p class="stats-title">${t}</p>
              <p class="stats-value">${e}</p>
            </li>`}W.addEventListener("click",()=>{u.classList.add("hidden"),L()});u.addEventListener("click",t=>{const e=G.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(u.classList.add("hidden"),L())});function B(t){t.key==="Escape"&&(u.classList.add("hidden"),L())}function j(){document.addEventListener("keydown",B),document.querySelector("body").classList.add("modal-open"),document.querySelector(".scroll-up-button").style.visibility="hidden"}function L(){document.removeEventListener("keydown",B),document.querySelector("body").classList.remove("modal-open"),document.querySelector(".scroll-up-button").style.visibility="visible"}
//# sourceMappingURL=index.js.map
