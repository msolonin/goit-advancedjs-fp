import{r as L,a as R,c as d}from"./assets/main-DFCTZps2.js";import"./assets/vendor-CR7N1gwd.js";const M=document.querySelectorAll(".filter-button"),F=document.querySelector("#search-form"),u=document.querySelector("#filter-search"),y=document.querySelector(".button-clear"),C=document.querySelector(".filter-pagination"),b=document.querySelector(".filter-title");let p={path:"filters",params:{filter:"Muscles"}},m=1,r=9,E=d,T="";function $(t){console.log(t);const e=document.querySelector(".category-items");e.innerHTML="",t.results.forEach(n=>{let o=document.createElement("li"),i=document.createElement("div");o.classList.add("category-item"),o.style.backgroundImage=`url(${n.imgURL})`;let s=document.createElement("p");s.innerHTML=n.name.charAt(0).toUpperCase()+n.name.slice(1),s.classList.add("filter-category"),i.appendChild(s);let a=document.createElement("p");a.innerHTML=n.filter.charAt(0).toUpperCase()+n.filter.slice(1),a.classList.add("filter-text"),i.appendChild(a),o.addEventListener("click",()=>{e.innerHTML="",e.style.display="none",T=n.name,B()}),o.appendChild(i),e.appendChild(o)})}function J(t){b.innerHTML==="Exercises"&&$(t)}async function A(t=!0){const e={...p.params,page:m,limit:r},n=await L(p.path,e);return t&&J(n),n}function N(){const t=H();b.innerHTML=`Exercises${t?` / <span>${t}</span>`:""}`}function H(){return T}function P(){document.querySelectorAll(".filters-pagination-button").forEach(e=>{e.classList.remove("filters-pagination-button-active"),parseInt(e.innerHTML)===m&&e.classList.add("filters-pagination-button-active")})}const w=async(t,e=!1)=>{!e&&t.classList.contains("filters-pagination-button-active")||(m=parseInt(t.innerHTML),P(),await A())};async function h(){C.innerHTML="";const e=(await A(!1)).totalPages;for(let o=1;o<=e;o++){const i=document.createElement("li"),s=document.createElement("button");s.innerHTML=o,s.classList.add("filters-pagination-button"),i.appendChild(s),C.appendChild(i)}document.querySelectorAll(".filters-pagination-button").forEach(o=>{o.addEventListener("click",()=>{w(o)})}),P(),w(document.querySelector(".filters-pagination-button-active"),!0)}function I(){if(b.innerHTML==="Exercises")switch(d){case 0:r=9;break;case 1:r=12;break;case 2:r=12;break}else switch(d){case 0:r=8;break;case 1:r=10;break;case 2:r=10;break}}const O=async t=>{m=1;const e=t.innerHTML.trim();I(),M.forEach(n=>{n.classList.remove("filter-button-active")}),t.classList.add("filter-button-active"),p={path:"filters",params:{filter:e}},N(),await h()};M.forEach(t=>{t.addEventListener("click",()=>{O(t)})});document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".filter-button-active");O(t)});addEventListener("resize",async()=>{d!==E&&(E=d,I(),await h())});function S(){u.value.trim()!==""?y.style.visibility="visible":y.style.visibility="hidden"}F.addEventListener("submit",async t=>{t.preventDefault(),await B()});y.addEventListener("click",()=>{u.value="",S(),p.params.search="",h()});const B=async()=>{const t=u.value.trim(),e=document.querySelector(".filter-button-active").value,n=H(),o={[e]:n};t!==""&&(o.keyword=t),m=1;const i=await L("exercises",o);R(i,!1),u.value="",S()};u.addEventListener("input",()=>{S()});function U(){return JSON.parse(localStorage.getItem("favorites"))??[]}function W(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function G(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.splice(e.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(e))}const k=document.querySelectorAll("[data-modal-open]"),X=document.querySelector("[data-modal-close]"),Y=document.querySelector(".modal"),f=document.querySelector("[data-modal]");let v="";for(let t=0;t<k.length;t++)k[t].addEventListener("click",e=>{v=e.target.value,j(v)});const l=document.querySelector(".btn-modal-add-fav");l.addEventListener("click",t=>{l.classList.toggle("fav-added"),l.classList.contains("fav-added")?(W(v),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(G(v),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart"))});async function j(t){const e=await L(`exercises/${t}`);z(e),U().indexOf(t)>=0?(l.classList.add("fav-added"),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(l.classList.remove("fav-added"),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart")),f.classList.toggle("hidden"),K()}function z(t){document.querySelector(".img-modal-exercise").src=t.gifUrl,document.querySelector(".title-modal").textContent=t.name.trim(),document.querySelector(".desc-text").textContent=t.description.trim(),document.querySelector(".rating-value").textContent=t.rating;const e=document.querySelectorAll(".icon-modal-star"),n=Math.floor(t.rating);for(let a=0;a<n;a++)e[a].classList.add("gold");const o=Math.floor((t.rating-n)*100),i=document.querySelectorAll(".gradient-middle");for(let a=0;a<i.length;a++)i[a].setAttribute("offset",`${o}%`);e[n].classList.add("gold-half");const s=document.querySelector(".stats-list");s.innerHTML="",g="",t.target!==""&&c("Target",t.target),t.bodyPart!==""&&c("BodyPart",t.bodyPart),t.equipment!==""&&c("Equipment",t.equipment),t.popularity!==""&&c("Popular",t.popularity),t.burnedCalories!==""&&c("Burned Calories",t.burnedCalories+"/"+t.time+" min"),s.insertAdjacentHTML("beforeend",g)}let g="";function c(t,e){g+=`<li class="stats-item">
              <p class="stats-title">${t}</p>
              <p class="stats-value">${e}</p>
            </li>`}X.addEventListener("click",()=>{f.classList.add("hidden"),q()});f.addEventListener("click",t=>{const e=Y.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(f.classList.add("hidden"),q())});function x(t){t.key==="Escape"&&(f.classList.add("hidden"),q())}function K(){document.addEventListener("keydown",x),document.querySelector("body").classList.add("modal-open"),document.querySelector(".scroll-up-button").style.visibility="hidden"}function q(){document.removeEventListener("keydown",x),document.querySelector("body").classList.remove("modal-open"),document.querySelector(".scroll-up-button").style.visibility="visible"}
//# sourceMappingURL=index.js.map
