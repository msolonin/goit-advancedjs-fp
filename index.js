import{r as L,a as F,c as u}from"./assets/main-D-KzKKUG.js";import"./assets/vendor-CR7N1gwd.js";const A=document.querySelectorAll(".filter-button"),S=document.querySelector("#search-form"),f=document.querySelector("#filter-search"),g=document.querySelector(".button-clear"),E=document.querySelector(".filter-pagination"),J=document.querySelector(".filter-title"),w=document.querySelector(".filter-subtitle"),N=document.querySelector(".filter-title-category"),$=document.querySelector(".exercises-container");let p={path:"filters",params:{filter:"Muscles"}},v=1,r=9,T=u,c="";function U(t){const e=document.querySelector(".category-items");e.innerHTML="",e.style.display="grid",S.classList.remove("visible"),t.results.forEach(n=>{let s=document.createElement("li"),o=document.createElement("div");s.classList.add("category-item"),s.style.backgroundImage=`linear-gradient(0deg, rgba(17, 17, 17, 0.50) 0%, rgba(17, 17, 17, 0.50) 100%), url(${n.imgURL})`;let a=document.createElement("p");a.innerHTML=n.name.charAt(0).toUpperCase()+n.name.slice(1),a.classList.add("filter-category"),o.appendChild(a);let i=document.createElement("p");i.innerHTML=n.filter.charAt(0).toUpperCase()+n.filter.slice(1),i.classList.add("filter-text"),o.appendChild(i),s.addEventListener("click",()=>{e.innerHTML="",e.style.display="none",c=n.name,P(),x()}),s.appendChild(o),e.appendChild(s)})}function G(t){c||U(t)}async function H(t=!0){const e={...p.params,page:v,limit:r},n=await L(p.path,e);return t&&G(n),n}function P(){c?(w.classList.add("visible"),N.innerHTML=c):w.classList.remove("visible")}function I(){document.querySelectorAll(".filters-pagination-button").forEach(e=>{e.classList.remove("filters-pagination-button-active"),parseInt(e.innerHTML)===v&&e.classList.add("filters-pagination-button-active")})}const k=async(t,e=!1)=>{!e&&t.classList.contains("filters-pagination-button-active")||(v=parseInt(t.innerHTML),I(),await H())};async function h(t=!1){E.innerHTML="";const n=(await H(t)).totalPages;for(let o=1;o<=n;o++){const a=document.createElement("li"),i=document.createElement("button");i.innerHTML=o,i.classList.add("filters-pagination-button"),a.appendChild(i),E.appendChild(a)}document.querySelectorAll(".filters-pagination-button").forEach(o=>{o.addEventListener("click",()=>{k(o)})}),I(),k(document.querySelector(".filters-pagination-button-active"),!0)}function O(){if(J.innerHTML==="Exercises")switch(u){case 0:r=9;break;case 1:r=12;break;case 2:r=12;break}else switch(u){case 0:r=8;break;case 1:r=10;break;case 2:r=10;break}}const B=async t=>{$.innerHTML="",c="",v=1;const e=t.innerHTML.trim();O(),A.forEach(n=>{n.classList.remove("filter-button-active")}),t.classList.add("filter-button-active"),p={path:"filters",params:{filter:e}},P(),await h(!0)};A.forEach(t=>{t.addEventListener("click",()=>{B(t)})});document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".filter-button-active");B(t)});addEventListener("resize",async()=>{u!==T&&(T=u,O(),await h())});function q(){f.value.trim()!==""?g.style.visibility="visible":g.style.visibility="hidden"}S.addEventListener("submit",async t=>{t.preventDefault(),await x()});g.addEventListener("click",()=>{f.value="",q(),p.params.search="",h()});const x=async()=>{const t=f.value.trim(),n={[document.querySelector(".filter-button-active").value]:c};t!==""&&(n.keyword=t),v=1;const s=await L("exercises",n);S.classList.add("visible"),F(s,!1),f.value="",q()};f.addEventListener("input",()=>{q()});function W(){return JSON.parse(localStorage.getItem("favorites"))??[]}function X(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function Y(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.splice(e.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(e))}const M=document.querySelectorAll("[data-modal-open]"),j=document.querySelector("[data-modal-close]"),z=document.querySelector(".modal"),m=document.querySelector("[data-modal]");let y="";for(let t=0;t<M.length;t++)M[t].addEventListener("click",e=>{y=e.target.value,K(y)});const d=document.querySelector(".btn-modal-add-fav");d.addEventListener("click",t=>{d.classList.toggle("fav-added"),d.classList.contains("fav-added")?(X(y),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(Y(y),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart"))});async function K(t){const e=await L(`exercises/${t}`);Q(e),W().indexOf(t)>=0?(d.classList.add("fav-added"),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(d.classList.remove("fav-added"),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart")),m.classList.toggle("hidden"),V()}function Q(t){document.querySelector(".img-modal-exercise").src=t.gifUrl,document.querySelector(".title-modal").textContent=t.name.trim(),document.querySelector(".desc-text").textContent=t.description.trim(),document.querySelector(".rating-value").textContent=t.rating;const e=document.querySelectorAll(".icon-modal-star"),n=Math.floor(t.rating);for(let i=0;i<n;i++)e[i].classList.add("gold");const s=Math.floor((t.rating-n)*100),o=document.querySelectorAll(".gradient-middle");for(let i=0;i<o.length;i++)o[i].setAttribute("offset",`${s}%`);e[n].classList.add("gold-half");const a=document.querySelector(".stats-list");a.innerHTML="",b="",t.target!==""&&l("Target",t.target),t.bodyPart!==""&&l("BodyPart",t.bodyPart),t.equipment!==""&&l("Equipment",t.equipment),t.popularity!==""&&l("Popular",t.popularity),t.burnedCalories!==""&&l("Burned Calories",t.burnedCalories+"/"+t.time+" min"),a.insertAdjacentHTML("beforeend",b)}let b="";function l(t,e){b+=`<li class="stats-item">
              <p class="stats-title">${t}</p>
              <p class="stats-value">${e}</p>
            </li>`}j.addEventListener("click",()=>{m.classList.add("hidden"),C()});m.addEventListener("click",t=>{const e=z.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(m.classList.add("hidden"),C())});function R(t){t.key==="Escape"&&(m.classList.add("hidden"),C())}function V(){document.addEventListener("keydown",R),document.querySelector("body").classList.add("modal-open"),document.querySelector(".scroll-up-button").style.visibility="hidden"}function C(){document.removeEventListener("keydown",R),document.querySelector("body").classList.remove("modal-open"),document.querySelector(".scroll-up-button").style.visibility="visible"}
//# sourceMappingURL=index.js.map
