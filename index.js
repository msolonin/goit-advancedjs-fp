import{r as v,a as T,c as m}from"./assets/main-CrkN-OQ3.js";import"./assets/vendor-CR7N1gwd.js";const E=document.querySelectorAll(".filter-button"),B=document.querySelector("#search-form"),c=document.querySelector("#filter-search"),g=document.querySelector(".button-clear"),L=document.querySelector(".filter-pagination");let l={path:"filters",params:{filter:"Muscles"}},u=1,f=9,h=m;function F(t){console.log(t)}async function w(t=!0){const e={...l.params,page:u,limit:f},n=await v(l.path,e);return t&&F(n),n}function H(){const t=document.querySelector(".filter-title");if(l.path==="filters"){const e=k();t.innerHTML=`Exercises ${`/ <span>${e}</span>`}`}}function k(){return"abs"}function A(){document.querySelectorAll(".filters-pagination-button").forEach(e=>{e.classList.remove("filters-pagination-button-active"),parseInt(e.innerHTML)===u&&e.classList.add("filters-pagination-button-active")})}const q=async(t,e=!1)=>{!e&&t.classList.contains("filters-pagination-button-active")||(u=parseInt(t.innerHTML),A(),await w())};async function p(){L.innerHTML="";const e=(await w(!1)).totalPages;for(let o=1;o<=e;o++){const i=document.createElement("li"),s=document.createElement("button");s.innerHTML=o,s.classList.add("filters-pagination-button"),i.appendChild(s),L.appendChild(i)}document.querySelectorAll(".filters-pagination-button").forEach(o=>{o.addEventListener("click",()=>{q(o)})}),A(),q(document.querySelector(".filters-pagination-button-active"),!0)}function M(){switch(m){case 0:f=9;break;case 1:f=12;break;case 2:f=12;break}}const P=async t=>{u=1;const e=t.innerHTML.trim();M(),E.forEach(n=>{n.classList.remove("filter-button-active")}),t.classList.add("filter-button-active"),l={path:"filters",params:{filter:e}},H(),await p()};E.forEach(t=>{t.addEventListener("click",()=>{P(t)})});document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".filter-button-active");P(t)});addEventListener("resize",async()=>{m!==h&&(h=m,M(),await p())});function b(){c.value.trim()!==""?g.style.visibility="visible":g.style.visibility="hidden"}B.addEventListener("submit",async t=>{t.preventDefault(),await R()});g.addEventListener("click",()=>{c.value="",b(),l.params.search="",p()});const R=async()=>{const t=c.value.trim();if(t!==""){const e=document.querySelector(".filter-button-active").value,n=k(),o={keyword:t,[e]:n};u=1;const i=await v("exercises",o);T(i),c.value="",b()}};c.addEventListener("input",()=>{b()});function I(){return JSON.parse(localStorage.getItem("favorites"))??[]}function $(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function J(t){const e=JSON.parse(localStorage.getItem("favorites"))??[];e.splice(e.indexOf(t)),localStorage.setItem("favorites",JSON.stringify(e))}const C=document.querySelectorAll("[data-modal-open]"),N=document.querySelector("[data-modal-close]"),W=document.querySelector(".modal"),d=document.querySelector("[data-modal]");for(let t=0;t<C.length;t++)C[t].addEventListener("click",e=>{const o=e.target.value;G(o)});async function G(t){const e=await v(`exercises/${t}`);X(e);const n=document.querySelector(".btn-modal-add-fav");I().indexOf(t)>=0&&(n.classList.add("fav-added"),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")),n.addEventListener("click",o=>{n.classList.toggle("fav-added"),n.classList.contains("fav-added")?($(t),document.querySelector(".btn-fav-text").textContent="Remove from favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-trash")):(J(t),document.querySelector(".btn-fav-text").textContent="Add to favorites",document.querySelector(".icon-fav-btn-use").setAttribute("href","./img/icons.svg#icon-heart"))}),d.classList.toggle("hidden"),Y()}function X(t){document.querySelector(".img-modal-exercise").src=t.gifUrl,document.querySelector(".title-modal").textContent=t.name.trim(),document.querySelector(".desc-text").textContent=t.description.trim(),document.querySelector(".rating-value").textContent=t.rating;const e=document.querySelectorAll(".icon-modal-star"),n=Math.floor(t.rating);for(let a=0;a<n;a++)e[a].classList.add("gold");const o=Math.floor((t.rating-n)*100),i=document.querySelectorAll(".gradient-middle");for(let a=0;a<i.length;a++)i[a].setAttribute("offset",`${o}%`);e[n].classList.add("gold-half");const s=document.querySelector(".stats-list");s.innerHTML="",y="",t.target!==""&&r("Target",t.target),t.bodyPart!==""&&r("BodyPart",t.bodyPart),t.equipment!==""&&r("Equipment",t.equipment),t.popularity!==""&&r("Popular",t.popularity),t.burnedCalories!==""&&r("Burned Calories",t.burnedCalories+"/"+t.time+" min"),s.insertAdjacentHTML("beforeend",y)}let y="";function r(t,e){y+=`<li class="stats-item">
              <p class="stats-title">${t}</p>
              <p class="stats-value">${e}</p>
            </li>`}N.addEventListener("click",()=>{d.classList.toggle("hidden"),S()});d.addEventListener("click",t=>{const e=W.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(d.classList.toggle("hidden"),S())});function O(t){t.key==="Escape"&&(d.classList.add("hidden"),S())}function Y(){document.addEventListener("keydown",O),document.querySelector("body").classList.add("modal-open"),document.querySelector(".scroll-up-button").style.visibility="hidden"}function S(){document.removeEventListener("keydown",O),document.querySelector("body").classList.remove("modal-open"),document.querySelector(".scroll-up-button").style.visibility="visible"}
//# sourceMappingURL=index.js.map
