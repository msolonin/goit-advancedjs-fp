{"version":3,"file":"main-BP_-yGXd.js","sources":["../../src/js/header.js","../../src/js/services/api-service.js","../../src/js/utils/elements-storage.js","../../src/js/scroll-up.js","../../src/js/filters.js","../../src/js/quote.js"],"sourcesContent":["const mobileMenu = document.querySelector('.js-mobile-menu');\n\n// Add active menu items\nconst pathnamePage = window.location.pathname.split('/').pop();\nconst currentPage = mobileMenu.querySelector(\n  `.nav-link[href='./${pathnamePage}']`\n);\n\nif (currentPage) {\n  currentPage.classList.add('active');\n}\n\n// Open/close mobile menu\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nopenMenuBtn.addEventListener('click', function () {\n  mobileMenu.classList.add('active');\n});\n\ncloseMenuBtn.addEventListener('click', function () {\n  mobileMenu.classList.remove('active');\n});\n","import axios from 'axios';\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api/';\n\nexport const request = async (path, params) => {\n  try {\n    const endpoint = `${BASE_URL}${path}`;\n    const response = await axios.get(endpoint, { params });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n","//Scroll up button storage\nexport const bigScrollUpButton = `\n    <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\">\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#242424\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M51.6192 37.4778L51.6192 63.0059L48.9033 63.0059L48.9033 37.4778L36.1392 50.2419L34.2187 48.3214L50.2612 32.2789L66.3037 48.3214L64.3833 50.2419L51.6192 37.4778Z\" fill=\"#F4F4F4\" stroke=\"#F4F4F4\" stroke-width=\"0.3\"/>\n</svg>\n`;\nexport const smallScrollUpButton = `\n    <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\">\n        <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#242424\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M51.6192 37.4778L51.6192 63.0059L48.9033 63.0059L48.9033 37.4778L36.1392 50.2419L34.2187 48.3214L50.2612 32.2789L66.3037 48.3214L64.3833 50.2419L51.6192 37.4778Z\" fill=\"#F4F4F4\" stroke=\"#F4F4F4\" stroke-width=\"0.3\"/>\n    </svg>\n`;\nexport const scrollUpButton = document.querySelector('.scroll-up-button');\n","// Logic for scroll-up button\nimport { smallScrollUpButton, bigScrollUpButton, scrollUpButton } from './utils/elements-storage.js';\n\nexport function scrollToTop() {\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    });\n}\n\nexport function isWindowAtTop() {\n    return window.pageYOffset === 0 || document.documentElement.scrollTop === 0;\n}\n\nexport function handleScroll() {\n    if (!isWindowAtTop()) {\n        scrollUpButton.style.visibility = 'visible';\n    } else {\n        scrollUpButton.style.visibility = 'hidden';\n    }\n}\n\nexport function initScrollUpButton(resolution) {\n    if (resolution === 0) {\n      scrollUpButton.innerHTML = smallScrollUpButton;\n    }else{\n      scrollUpButton.innerHTML = bigScrollUpButton;\n    }\n    scrollUpButton.addEventListener('click', scrollToTop);\n    window.addEventListener('scroll', handleScroll);\n    if (isWindowAtTop()) {\n        scrollUpButton.style.visibility = 'hidden';\n    }\n}\n","import { request } from './services/api-service';\nimport { initScrollUpButton } from './scroll-up.js';\n\nconst filterButtons = document.querySelectorAll('.filter-button');\nconst filterPagination = document.querySelector('.filter-pagination');\n\nlet requestBase = { path: 'filters', params: { filter: 'Muscles' } };\nlet filterPage = 1;\nlet filterLimit = 9;\nlet currentResolution = 0;\n\nfunction updateResolution() {\n  const prevResolution = currentResolution;\n  if (\n    window.matchMedia('(min-width: 768px)').matches &&\n    window.matchMedia('(max-width: 1439px)').matches\n  ) {\n    currentResolution = 1;\n  } else if (window.matchMedia('(min-width: 1439px)').matches) {\n    currentResolution = 2;\n  } else {\n    currentResolution = 0;\n  }\n  if (prevResolution !== currentResolution) {\n    console.log('TODO: Redraw the page based on the new resolution');\n  }\n}\nupdateResolution();\naddEventListener('resize', updateResolution);\ninitScrollUpButton(currentResolution);\nfunction drawFilterContent(data) {\n  // TODO: Draw the content based on the data\n  console.log(data);\n}\n\n// Process the current request\nasync function processCurrentRequest(shouldDraw = true) {\n  const params = {\n    ...requestBase.params,\n    page: filterPage,\n    limit: filterLimit,\n  };\n  const data = await request(requestBase.path, params);\n  if (shouldDraw) {\n    drawFilterContent(data);\n  }\n  return data;\n}\n\nfunction updateTitle() {\n  const title = document.querySelector('.filter-title');\n  if (requestBase.path === 'filters') {\n    title.innerHTML = 'Exercises';\n  }\n}\n\nfunction updateActivePaginationButton() {\n  const buttons = document.querySelectorAll('.filters-pagination-button');\n  buttons.forEach(btn => {\n    btn.classList.remove('filters-pagination-button-active');\n    if (parseInt(btn.innerHTML) === filterPage) {\n      btn.classList.add('filters-pagination-button-active');\n    }\n  });\n}\n\nconst handlePaginationButtonClick = async (btn, force_process = false) => {\n  // Do not process the request if the button is already active\n  if (\n    !force_process &&\n    btn.classList.contains('filters-pagination-button-active')\n  ) {\n    return;\n  }\n  filterPage = parseInt(btn.innerHTML);\n  updateActivePaginationButton();\n  await processCurrentRequest();\n};\n\nasync function drawPagination() {\n  // Clear the pagination\n  filterPagination.innerHTML = '';\n  // Get total number of pages(filters=2,exercises=3)\n  const data = await processCurrentRequest(false);\n  const totalPages = data.totalPages;\n  // Add <li> to the pagination for each counter while button inside\n  for (let i = 1; i <= totalPages; i++) {\n    const li = document.createElement('li');\n    const button = document.createElement('button');\n    button.innerHTML = i;\n    button.classList.add('filters-pagination-button');\n    li.appendChild(button);\n    filterPagination.appendChild(li);\n  }\n  // Add event listener to all buttons\n  const buttons = document.querySelectorAll('.filters-pagination-button');\n  buttons.forEach(btn => {\n    btn.addEventListener('click', () => {\n      handlePaginationButtonClick(btn);\n    });\n  });\n  // Set active button with page = filterPage\n  updateActivePaginationButton();\n  // Press active button to draw the content\n  handlePaginationButtonClick(\n    document.querySelector('.filters-pagination-button-active'),\n    true\n  );\n}\n\nconst handleFilterButtonClick = async btn => {\n  filterPage = 1;\n  // Get filter\n  const filter = btn.innerHTML;\n  // Get limit\n  let limit = 9;\n  switch (currentResolution) {\n    case 0:\n      limit = 9;\n      break;\n    case 1:\n      limit = 12;\n      break;\n    case 2:\n      limit = 12;\n      break;\n  }\n  // Remove filter-button-active for all buttons\n  filterButtons.forEach(btn => {\n    btn.classList.remove('filter-button-active');\n  });\n  // Add filter-button-active to the clicked button\n  btn.classList.add('filter-button-active');\n\n  requestBase = { path: 'filters', params: { filter } };\n  updateTitle();\n  await drawPagination();\n};\n\n// Register all the filter-button clicks to the handleFilterButtonClick function\nfilterButtons.forEach(btn => {\n  btn.addEventListener('click', () => {\n    handleFilterButtonClick(btn);\n  });\n});\n\n// OnPageLoaded -> press default active button\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const musclesButton = document.querySelector('.filter-button-active');\n  handleFilterButtonClick(musclesButton);\n});\n","import { request } from './services/api-service';\n\n(async () => {\n  const BACKUP_QUOTE = {\n    text: 'Unfortunately, there was an error on the server, but as they say: \"Even in failure, wisdom finds its voice.\"',\n    author: 'Team \"Your Enegry\"',\n  };\n\n  // Main\n  const quoteFromStorage = getQuoteFromStorage();\n  const quote = {\n    text: BACKUP_QUOTE.text,\n    author: BACKUP_QUOTE.author,\n  };\n\n  if (\n    isQuoteFromStorageValid(quoteFromStorage) &&\n    isTodayDate(quoteFromStorage.date)\n  ) {\n    quote.text = quoteFromStorage.text;\n    quote.author = quoteFromStorage.author;\n  } else {\n    try {\n      await fetchAndSaveQuote(quote);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  renderQuote(quote);\n\n  // Utils\n  async function fetchAndSaveQuote(quote) {\n    const response = await request('quote');\n    quote.text = response.quote;\n    quote.author = response.author;\n    localStorage.setItem(\n      'quote',\n      JSON.stringify({\n        text: response.quote,\n        author: response.author,\n        date: new Date(),\n      })\n    );\n  }\n\n  function getQuoteFromStorage() {\n    let quoteFromStorage;\n\n    try {\n      quoteFromStorage = JSON.parse(localStorage.getItem('quote'));\n    } catch (error) {\n      console.error(error);\n    }\n\n    return quoteFromStorage;\n  }\n\n  function renderQuote(quote) {\n    const quoteNode = document.querySelector('.quote-desc');\n    const authorNode = document.querySelector('.quote-author');\n\n    quoteNode.textContent = quote.text;\n    authorNode.textContent = quote.author;\n    quoteNode.classList.remove('skeleton');\n    authorNode.classList.remove('skeleton');\n  }\n\n  function isQuoteFromStorageValid(quote) {\n    return (\n      quote &&\n      typeof quote?.text === 'string' &&\n      typeof quote?.author === 'string' &&\n      typeof quote?.date === 'string'\n    );\n  }\n\n  function isTodayDate(date) {\n    let dateFromStorage = new Date(date);\n    let today = new Date();\n\n    today.setHours(0, 0, 0, 0);\n    dateFromStorage.setHours(0, 0, 0, 0);\n\n    return dateFromStorage.getTime() === today.getTime();\n  }\n})();\n"],"names":["mobileMenu","pathnamePage","currentPage","openMenuBtn","closeMenuBtn","BASE_URL","request","path","params","endpoint","axios","error","bigScrollUpButton","smallScrollUpButton","scrollUpButton","scrollToTop","isWindowAtTop","handleScroll","initScrollUpButton","resolution","filterButtons","filterPagination","requestBase","filterPage","filterLimit","currentResolution","updateResolution","prevResolution","drawFilterContent","data","processCurrentRequest","shouldDraw","updateTitle","title","updateActivePaginationButton","btn","handlePaginationButtonClick","force_process","drawPagination","totalPages","i","li","button","handleFilterButtonClick","filter","musclesButton","BACKUP_QUOTE","quoteFromStorage","getQuoteFromStorage","quote","isQuoteFromStorageValid","isTodayDate","fetchAndSaveQuote","renderQuote","response","quoteNode","authorNode","date","dateFromStorage","today"],"mappings":"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"}